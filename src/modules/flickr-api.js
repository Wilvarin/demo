import pointerControl from './pointer-control';const key = '2784f6833d77f17036960b0d0e6f8515';const rootEl = document.getElementById('content');let items = [];let page = 1;let perPage = 50;let isInit = true;const formatPhotosUrl = (item) => {    return `http://farm${item.farm}.static.flickr.com/${item.server}/${item.id}_${item.secret}.jpg`;};const formatPhotos = (photos) => {    return photos.map((item, i) => {        return {            url: formatPhotosUrl(item),            selected: false,            index: items.length + i,        }    });};const formatApiUrl = () => {    return `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${key}&tags=sky,river&format=json&per_page=${perPage}&page=${page}`};const createContent = (photos) => {    photos.forEach((item) => {        const photoItem = document.createElement('div');        photoItem.className = 'photo-item width-20';        photoItem.dataset.index = item.index;        photoItem.dataset.selected = item.selected;        photoItem.style = `background-image: url(${item.url})`;        rootEl.appendChild(photoItem);    });    pointerControl.getBlocks();};export default {    jsonFlickrApi: (e) => {        const photos = e.photos.photo;        const newPhotos = formatPhotos(photos);        items = items.concat(newPhotos);        createContent(newPhotos);        if (isInit) {            pointerControl.init();            isInit = false;            perPage = 40;        }    },    getPhotos: () => {        const script = document.createElement('script');        script.src = formatApiUrl();        document.body.appendChild(script);        page++;    },    markSelectedItem: (oldItem, newItem) => {        items[oldItem].selected = false;        items[newItem].selected = true;    },    photosLength: () => {        return items.length;    },}